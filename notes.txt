Q: How does this addon even work??

A: First, as soon as a blog is opened on aminoapps.com, addon.js is loaded as a content-script and the hides/modifies all of the annoying elements[1]
Then, it adds a message listener (browser.runtime.onMessage.addListener) to listen to any communication from the popup's javascript (checkBoxes.js)


When the extension's icon is clicked, menu.html pops up and runs checkBoxes.js

checkBoxes.js creates event listeners for the checkboxes in menu.html; Each individual checkbox has it's inidivual function to check it's state and send addon.js the appropiate message (browser.tabs.sendMessage).

Once addon.js recieves a message from checkBoxes.js, it will modify the html propierties using object.style.display


[1]: The annoying elements are: The Banner, Navigation Buttons, Overflow button of the Navigation Buttons, Community list Blur, Live Comments.

==============================================================================================
menu.html

Q: How to debug this?
A: (FIREFOX) You have to go to "about:config" and then toggle "ui.popup.disable_autohide"

==============================================================================================
checkBoxes.js

Q: Why not use "browser.tabs.insertCSS" to DISPLAY the elements accordingly?
A: Becouse addon.js hides the element by putting the CSS value ON the html itself, wich makes it override whathever is on the pages imported CSS
Q: Then why not use "browser.tabs.insertCSS" on addon.js as well?
A: Becouse we can't: https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS

